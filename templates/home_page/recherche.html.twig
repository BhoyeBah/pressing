{% extends 'base.html.twig' %}

{% block title %}Résultats de recherche{% endblock %}

{% block body %}
<div class="card">
    <h5 class="card-header">Résultats de la recherche : "{{ query }}"</h5>
    <div class="card-body">

        {% if client is not empty %}
            <!-- Résultats Clients -->
            <h6>Clients trouvés :</h6>
            <div class="table-responsive text-nowrap mb-4">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Téléphone</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for c in client %}
                            <tr>
                                <td>{{ c.nom }}</td>
                                <td>{{ c.telephone }}</td>
                                <td>
                                    <a href="{{ path('app_client_show', {'id': c.id}) }}" class="btn btn-sm btn-primary">Voir</a>
                                    <a href="{{ path('app_client_edit', {'id': c.id}) }}" class="btn btn-sm btn-info">Modifier</a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endif %}

        {% if facture is not empty %}
            <!-- Résultats Factures -->
            <h6>Factures trouvées :</h6>
            <div class="table-responsive text-nowrap">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Numéro</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for f in facture %}
                            <tr>
                                <td>{{ f.numero }}</td>
                                <td>
                                    <a href="{{ path('app_commande_show', {'id': f.id}) }}" class="btn btn-sm btn-primary">Voir</a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endif %}

        {% if client is empty and facture is empty %}
            <div class="alert alert-warning mt-3">Aucun résultat trouvé pour "{{ query }}".</div>
        {% endif %}

    </div>
</div>
{% endblock %}
